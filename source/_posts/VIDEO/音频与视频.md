---
title: 音频与视频
date: 2017-08-14 22:46:28
tags:
categories: VIDEO
---
------

<!-- more -->

开源项目用于得到多媒体信息FFmpeg
http://ffmpeg.org/

用cmd切换到qqmuic/musics
node test .js
歌曲 名字不能有空格

本地共享

（
npm install -g http-server

http-server

http-server -p 80 换端口号
）

bower

ffprobe -v quiet -print_format json -show_format 1.mp3

mp3 audio

mp4 radio

toFixed(2) 四舍五入保留两位小数

// var a = $('audio').get(0)

# audio对象身上的属性、方法和事件
一个audio对象就是普通的dom对象
比其他的dom对象多出一些自己独有的属性方法和事件

```javascript
var audio = $('audio'audio).get(0);
```
## 属性
audio.volume (读/写)音量
audio.src (读/写) 歌曲地址
audio.currentTime (读/写) 歌曲当前已播放时长
audio.duration (读) 歌曲的总长度

audio.paused (读) 布尔类型 是否处于暂停状态
audio.ended (读) 布尔类型 歌曲 是否已经播放完毕

## 方法
audio.play() 让歌曲开始播放
audio.pause() 让歌曲暂停
audio.fastSeek() 指定一个时间让歌曲来到指定位置

## 事件
audio.oncanplay = fn() 当歌曲下载完中调用fn
audio.onvolumechange = fn() 当audio.volume发生变换的时候调用fn
audio.onplay = fn() 歌曲开始播放之后调用fn
audio.onpause = fn() 歌曲暂停之后调用fn
audio.ontimeupdate = fn() 时间更新歌曲在播放的过程中会一直调用fn
audio.onended = fn() 一首歌曲播放完之后调用fn

属性：
audioTracks 返回表示可用音频轨道的 AudioTrackList 对象。
autoplay 设置或返回是否在就绪（加载完成）后随即播放音频。
buffered 返回表示音频已缓冲部分的 TimeRanges 对象。
controller 返回表示音频当前媒体控制器的 MediaController 对象。
controls 设置或返回音频是否应该显示控件（比如播放/暂停等）。
crossOrigin 设置或返回音频的 CORS 设置。
currentSrc 返回当前音频的 URL。
currentTime 设置或返回音频中的当前播放位置（以秒计）。
defaultMuted 设置或返回音频默认是否静音。
defaultPlaybackRate 设置或返回音频的默认播放速度。
duration 返回音频的长度（以秒计）。
ended 返回音频的播放是否已结束。
error 返回表示音频错误状态的 MediaError 对象。
loop 设置或返回音频是否应在结束时再次播放。
mediaGroup 设置或返回音频所属媒介组合的名称。
muted 设置或返回是否关闭声音。
networkState 返回音频的当前网络状态。
paused 设置或返回音频是否暂停。
playbackRate 设置或返回音频播放的速度。
played 返回表示音频已播放部分的 TimeRanges 对象。
preload 设置或返回音频的 preload 属性的值。
readyState 返回音频当前的就绪状态。
seekable 返回表示音频可寻址部分的 TimeRanges 对象。
seeking 返回用户当前是否正在音频中进行查找。
src 设置或返回音频的 src 属性的值。
textTracks 返回表示可用文本轨道的 TextTrackList 对象。
volume 设置或返回音频的音量。

方法 描述
addTextTrack() 向音频添加新的文本轨道。
canPlayType() 检查浏览器是否能够播放指定的音频类型。
fastSeek() 在音频播放器中指定播放时间。
getStartDate() 返回新的 Date 对象，表示当前时间线偏移量。
load() 重新加载音频元素。
play() 开始播放音频。
pause() 暂停当前播放的音频。

audio对象身上的属性方法和事件
May 26, 2016

一个audio对象就是普通的dom对象 比其他的dom对象多出一些自己独有的属性方法和事件
var audio = $('audio').get(0);
属性

audio.volume

(读/写) 音量

audio.src

(读/写) 歌曲地址

audio.currentTime

(读/写) 歌曲当前已播放时长

audio.duration

(读) 歌曲的总长度

audio.paused

(读) 布尔类型 是否处于暂停状态

audio.ended

(读) 布尔类型 歌曲是否已经播放完毕

方法

audio.play()

让歌曲开始播放

audio.pause()

让歌曲暂停

事件

audio.oncanplay = fn()

当歌曲下载完之后调用fn

audio.onvolumechange = fn()

当audio.volume发生变换的时候调用fn

audio.onplay = fn()

歌曲开始播放之后调用fn

audio.onpause = fn()

歌曲暂停之后调用fn

audio.ontimeupdate = fn()

歌曲在播放的过程中会一直调用fn

audio.onended = fn()

一首歌曲播放完之后调用fn
